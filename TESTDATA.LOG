changed: [localhost] => {"changed": true, "cmd": "export CA_TOOL_CLI=$(KUBECONFIG=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config kubectl get po -n org1-net | grep \"ca-tools\" | awk '{print $1}')\nKUBECONFIG=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config kubectl exec -n org1-net ${CA_TOOL_CLI} -- /root/ca-tools/org1/./generate-crypto.sh\nKUBECONFIG=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config kubectl exec -n org1-net ${CA_TOOL_CLI} -- /root/ca-tools/org1/./generate-user-crypto.sh orderer1 org1-net org1 1 Org1 \"O=Orderer,L=51.50/-0.13/London,C=GB\" \"ca.org1.example.com:7054\"\n", "delta": "0:00:03.785653", "end": "2021-06-30 10:13:51.343924", "rc": 0, "start": "2021-06-30 10:13:47.558271", "stderr": "+ CURRENT_DIR=/\n+ FULLY_QUALIFIED_ORG_NAME=org1-net\n+ EXTERNAL_URL_SUFFIX=org1.example.com\n+ ALTERNATIVE_ORG_NAMES=(\"org1.example.com\")\n+ ORG_NAME=org1\n+ SUBJECT=C=UK,ST=London,L=London,O=org1\n+ SUBJECT_PEER=O=Orderer,L=51.50/-0.13/London,C=GB\n+ CA=ca.org1.example.com:7054\n+ CA_ADMIN_USER=org1-admin\n+ CA_ADMIN_PASS=org1-adminpw\n+ ORG_ADMIN_USER=Admin@org1-net\n+ ORG_ADMIN_PASS=Admin@org1-net-pw\n+ ORG_CYPTO_FOLDER=/crypto-config/ordererOrganizations/org1-net\n+ ROOT_TLS_CERT=/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem\n+ CAS_FOLDER=/root/ca-tools/cas/ca-org1\n+ ORG_HOME=/root/ca-tools/org1\n+ PEER=orderer1.org1-net\n+ CSR_HOSTS=orderer1.org1-net\n+ for i in '\"${ALTERNATIVE_ORG_NAMES[@]}\"'\n+ CSR_HOSTS=orderer1.org1-net,orderer1.org1.example.com\n+ echo 'Registering and enrolling orderer1.org1-net with csr hosts orderer1.org1-net,orderer1.org1.example.com'\n+ fabric-ca-client register -d --id.name orderer1.org1-net --id.secret orderer1.org1-net-pw --id.type orderer --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem --home /root/ca-tools/cas/ca-org1\n2021/06/30 03:13:48 [DEBUG] Home directory: /root/ca-tools/cas/ca-org1\n2021/06/30 03:13:48 [INFO] Configuration file location: /root/ca-tools/cas/ca-org1/fabric-ca-client-config.yaml\n2021/06/30 03:13:48 [DEBUG] Checking for enrollment\n2021/06/30 03:13:48 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  } CSR:{CN:org1-admin Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name:orderer1.org1-net Type:orderer Secret:orderer1.org1-net-pw MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc4200c86a0}\n2021/06/30 03:13:48 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc420474210 PluginOpts:<nil>}\n2021/06/30 03:13:48 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc420471b20 DummyKeystore:<nil>}\n2021/06/30 03:13:48 [INFO] TLS Enabled\n2021/06/30 03:13:48 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]\n2021/06/30 03:13:48 [DEBUG] Client Cert File: \n2021/06/30 03:13:48 [DEBUG] Client Key File: \n2021/06/30 03:13:48 [DEBUG] Client TLS certificate and/or key file not provided\n2021/06/30 03:13:48 [ERROR] Enrollment check failed: Idemix enrollment information does not exist\nError: Enrollment information does not exist. Please execute enroll command first. Example: fabric-ca-client enroll -u http://user:userpw@serverAddr:serverPort\n+ fabric-ca-client enroll -d --enrollment.profile tls -u https://orderer1.org1-net:orderer1.org1-net-pw@ca.org1.example.com:7054 -M /root/ca-tools/org1/cas/orderers/tls --csr.hosts orderer1.org1-net,orderer1.org1.example.com --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem --csr.names O=Orderer,L=51.50/-0.13/London,C=GB\n2021/06/30 03:13:48 [DEBUG] Home directory: /root/.fabric-ca-client\n2021/06/30 03:13:48 [DEBUG] Client configuration settings: &{URL:https://orderer1.org1-net:orderer1.org1-net-pw@ca.org1.example.com:7054 MSPDir:/root/ca-tools/org1/cas/orderers/tls TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:<nil> Type:x509  } CSR:{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[orderer1.org1-net orderer1.org1.example.com] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc4200d97a0}\n2021/06/30 03:13:48 [DEBUG] Entered runEnroll\n2021/06/30 03:13:48 [DEBUG] Enrolling { Name:orderer1.org1-net Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:&{Admin@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [orderer1.org1-net orderer1.org1.example.com] <nil> <nil> } Type:x509  }\n2021/06/30 03:13:48 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:/root/ca-tools/org1/cas/orderers/tls TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name:orderer1.org1-net Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:&{Admin@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [orderer1.org1-net orderer1.org1.example.com] <nil> <nil> } Type:x509  } CSR:{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[orderer1.org1-net orderer1.org1.example.com] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc4200d97a0}\n2021/06/30 03:13:48 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc420155ef0 PluginOpts:<nil>}\n2021/06/30 03:13:48 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4202bb150 DummyKeystore:<nil>}\n2021/06/30 03:13:48 [INFO] TLS Enabled\n2021/06/30 03:13:48 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]\n2021/06/30 03:13:48 [DEBUG] Client Cert File: \n2021/06/30 03:13:48 [DEBUG] Client Key File: \n2021/06/30 03:13:48 [DEBUG] Client TLS certificate and/or key file not provided\n2021/06/30 03:13:48 [DEBUG] GenCSR &{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[orderer1.org1-net orderer1.org1.example.com] KeyRequest:<nil> CA:<nil> SerialNumber:}\n2021/06/30 03:13:48 [INFO] generating key: &{A:ecdsa S:256}\n2021/06/30 03:13:48 [DEBUG] generate key from request: algo=ecdsa, size=256\n2021/06/30 03:13:48 [INFO] encoded CSR\n2021/06/30 03:13:48 [DEBUG] Sending request\nPOST https://ca.org1.example.com:7054/enroll\n{\"hosts\":[\"orderer1.org1-net\",\"orderer1.org1.example.com\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBXjCCAQQCAQAwWDELMAkGA1UEBhMCR0IxGzAZBgNVBAcTEjUxLjUwLy0wLjEz\\nL0xvbmRvbjEQMA4GA1UEChMHT3JkZXJlcjEaMBgGA1UEAxMRb3JkZXJlcjEub3Jn\\nMS1uZXQwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAARplw6uAXY2ByZxNHG4/mZ/\\nsUh9baJ7zs2hrcFX7ZrIG0Q6qGDn0eU9SINPr2gYTmO7DBYSKQ8HI5Gh4xJVuy71\\noEowSAYJKoZIhvcNAQkOMTswOTA3BgNVHREEMDAughFvcmRlcmVyMS5vcmcxLW5l\\ndIIZb3JkZXJlcjEub3JnMS5leGFtcGxlLmNvbTAKBggqhkjOPQQDAgNIADBFAiEA\\nlu3DplUDldRSMZRX5XEW/wy4lNPq0F9lwX5aZ4b5V60CIBbzUW06xndNIHR2R5kp\\nPkuQAEsmon534jYERXOEbayS\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"tls\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}\nError: POST failure of request: POST https://ca.org1.example.com:7054/enroll\n{\"hosts\":[\"orderer1.org1-net\",\"orderer1.org1.example.com\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBXjCCAQQCAQAwWDELMAkGA1UEBhMCR0IxGzAZBgNVBAcTEjUxLjUwLy0wLjEz\\nL0xvbmRvbjEQMA4GA1UEChMHT3JkZXJlcjEaMBgGA1UEAxMRb3JkZXJlcjEub3Jn\\nMS1uZXQwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAARplw6uAXY2ByZxNHG4/mZ/\\nsUh9baJ7zs2hrcFX7ZrIG0Q6qGDn0eU9SINPr2gYTmO7DBYSKQ8HI5Gh4xJVuy71\\noEowSAYJKoZIhvcNAQkOMTswOTA3BgNVHREEMDAughFvcmRlcmVyMS5vcmcxLW5l\\ndIIZb3JkZXJlcjEub3JnMS5leGFtcGxlLmNvbTAKBggqhkjOPQQDAgNIADBFAiEA\\nlu3DplUDldRSMZRX5XEW/wy4lNPq0F9lwX5aZ4b5V60CIBbzUW06xndNIHR2R5kp\\nPkuQAEsmon534jYERXOEbayS\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"tls\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}: Post https://ca.org1.example.com:7054/enroll: dial tcp: lookup ca.org1.example.com on 10.96.0.10:53: no such host\n+ mkdir -p /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/tls\n+ cp /root/ca-tools/org1/cas/orderers/tls/keystore/9b3c6ae7b4c388ac3b34d5587d7fe9ff9ead0744a4b292096c87c1321ca4f3b2_sk /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/tls/server.key\n+ cp '/root/ca-tools/org1/cas/orderers/tls/signcerts/*' /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/tls/server.crt\ncp: cannot stat '/root/ca-tools/org1/cas/orderers/tls/signcerts/*': No such file or directory\n+ cp '/root/ca-tools/org1/cas/orderers/tls/tlscacerts/*' /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/tls/ca.crt\ncp: cannot stat '/root/ca-tools/org1/cas/orderers/tls/tlscacerts/*': No such file or directory\n+ rm -rf /root/ca-tools/org1/cas/orderers/tls\n+ fabric-ca-client enroll -d -u https://orderer1.org1-net:orderer1.org1-net-pw@ca.org1.example.com:7054 -M /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem --csr.names O=Orderer,L=51.50/-0.13/London,C=GB\n2021/06/30 03:13:50 [DEBUG] Home directory: /root/.fabric-ca-client\n2021/06/30 03:13:50 [DEBUG] Client configuration settings: &{URL:https://orderer1.org1-net:orderer1.org1-net-pw@ca.org1.example.com:7054 MSPDir:/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  } CSR:{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42047fbe0}\n2021/06/30 03:13:50 [DEBUG] Entered runEnroll\n2021/06/30 03:13:50 [DEBUG] Enrolling { Name:orderer1.org1-net Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:&{Admin@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  }\n2021/06/30 03:13:50 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name:orderer1.org1-net Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:&{Admin@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  } CSR:{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42047fbe0}\n2021/06/30 03:13:50 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc420446060 PluginOpts:<nil>}\n2021/06/30 03:13:50 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc420479fe0 DummyKeystore:<nil>}\n2021/06/30 03:13:50 [INFO] TLS Enabled\n2021/06/30 03:13:50 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]\n2021/06/30 03:13:50 [DEBUG] Client Cert File: \n2021/06/30 03:13:50 [DEBUG] Client Key File: \n2021/06/30 03:13:50 [DEBUG] Client TLS certificate and/or key file not provided\n2021/06/30 03:13:50 [DEBUG] GenCSR &{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:}\n2021/06/30 03:13:50 [INFO] generating key: &{A:ecdsa S:256}\n2021/06/30 03:13:50 [DEBUG] generate key from request: algo=ecdsa, size=256\n2021/06/30 03:13:50 [INFO] encoded CSR\n2021/06/30 03:13:50 [DEBUG] Sending request\nPOST https://ca.org1.example.com:7054/enroll\n{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBSTCB8QIBADBYMQswCQYDVQQGEwJHQjEbMBkGA1UEBxMSNTEuNTAvLTAuMTMv\\nTG9uZG9uMRAwDgYDVQQKEwdPcmRlcmVyMRowGAYDVQQDExFvcmRlcmVyMS5vcmcx\\nLW5ldDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABO9f0j3wHycZBR/jHXh35Ncs\\ncYK5wse0Wzk9LbWZNvSXzg6JTcp072jNraQZJlNUSix8M3tDemDSdTfQBwmEOlCg\\nNzA1BgkqhkiG9w0BCQ4xKDAmMCQGA1UdEQQdMBuCGWNhLXRvb2xzLTc2Nzc1Yzg1\\nOTgtcDhxZHMwCgYIKoZIzj0EAwIDRwAwRAIgTUsa33o9GD0kWx1BxbwY3s3wPPl0\\ncFUq9ywA39xvu1ICIBJX2mWm4b9Q2kJIWlfazkt2OmUQKjxMFlxi7BBCUkHH\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}\nError: POST failure of request: POST https://ca.org1.example.com:7054/enroll\n{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBSTCB8QIBADBYMQswCQYDVQQGEwJHQjEbMBkGA1UEBxMSNTEuNTAvLTAuMTMv\\nTG9uZG9uMRAwDgYDVQQKEwdPcmRlcmVyMRowGAYDVQQDExFvcmRlcmVyMS5vcmcx\\nLW5ldDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABO9f0j3wHycZBR/jHXh35Ncs\\ncYK5wse0Wzk9LbWZNvSXzg6JTcp072jNraQZJlNUSix8M3tDemDSdTfQBwmEOlCg\\nNzA1BgkqhkiG9w0BCQ4xKDAmMCQGA1UdEQQdMBuCGWNhLXRvb2xzLTc2Nzc1Yzg1\\nOTgtcDhxZHMwCgYIKoZIzj0EAwIDRwAwRAIgTUsa33o9GD0kWx1BxbwY3s3wPPl0\\ncFUq9ywA39xvu1ICIBJX2mWm4b9Q2kJIWlfazkt2OmUQKjxMFlxi7BBCUkHH\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}: Post https://ca.org1.example.com:7054/enroll: dial tcp: lookup ca.org1.example.com on 10.96.0.10:53: no such host\n+ mkdir /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/tlscacerts\n+ '[' haproxy '!=' none ']'\n+ mv '/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/cacerts/*.pem' /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/cacerts/ca-org1-net-org1.example.com-8443.pem\nmv: cannot stat '/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/cacerts/*.pem': No such file or directory\n+ cp '/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/cacerts/*' /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/tlscacerts\ncp: cannot stat '/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/cacerts/*': No such file or directory\n+ mkdir -p /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/admincerts\n+ cp /crypto-config/ordererOrganizations/org1-net/msp/admincerts/Admin@org1-net-cert.pem /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/admincerts\ncp: cannot stat '/crypto-config/ordererOrganizations/org1-net/msp/admincerts/Admin@org1-net-cert.pem': No such file or directory\n+ cd /\n+ CURRENT_DIR=/\n+ FULLY_QUALIFIED_ORG_NAME=org1-net\n+ ORG_NAME=org1\n+ TYPE_FOLDER=orderer1s\n+ NO_OF_USERS=1\n+ AFFILIATION=Org1\n+ SUBJECT=O=Orderer,L=51.50/-0.13/London,C=GB\n+ CA=ca.org1.example.com:7054\n+ '[' orderer1 '!=' peer ']'\n+ ORG_CYPTO_FOLDER=/crypto-config/ordererOrganizations/org1-net\n+ ROOT_TLS_CERT=/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem\n+ CAS_FOLDER=/root/ca-tools/cas/ca-org1\n+ ORG_HOME=/root/ca-tools/org1\n+ USER=0\n+ '[' 0 -lt 1 ']'\n+ let USER=USER+1\n+ ORG_USER=User1@org1-net\n+ ORG_USERPASS=User1@org1-net-pw\n+ '[' orderer1 = peer ']'\n+ fabric-ca-client register -d --id.name User1@org1-net --id.secret User1@org1-net-pw --id.type client --csr.names O=Orderer,L=51.50/-0.13/London,C=GB --id.attrs hf.Revoker=true --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem --home /root/ca-tools/cas/ca-org1\n2021/06/30 03:13:51 [DEBUG] Home directory: /root/ca-tools/cas/ca-org1\n2021/06/30 03:13:51 [INFO] Configuration file location: /root/ca-tools/cas/ca-org1/fabric-ca-client-config.yaml\n2021/06/30 03:13:51 [DEBUG] Checking for enrollment\n2021/06/30 03:13:51 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  } CSR:{CN:org1-admin Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name:User1@org1-net Type:client Secret:User1@org1-net-pw MaxEnrollments:0 Affiliation: Attributes:[{Name:hf.Revoker Value:true ECert:false}] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42044a4c0}\n2021/06/30 03:13:51 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc420452510 PluginOpts:<nil>}\n2021/06/30 03:13:51 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4203c49b0 DummyKeystore:<nil>}\n2021/06/30 03:13:51 [INFO] TLS Enabled\n2021/06/30 03:13:51 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]\n2021/06/30 03:13:51 [DEBUG] Client Cert File: \n2021/06/30 03:13:51 [DEBUG] Client Key File: \n2021/06/30 03:13:51 [DEBUG] Client TLS certificate and/or key file not provided\n2021/06/30 03:13:51 [ERROR] Enrollment check failed: Idemix enrollment information does not exist\nError: Enrollment information does not exist. Please execute enroll command first. Example: fabric-ca-client enroll -u http://user:userpw@serverAddr:serverPort\n+ fabric-ca-client enroll -d -u https://User1@org1-net:User1@org1-net-pw@ca.org1.example.com:7054 --csr.names O=Orderer,L=51.50/-0.13/London,C=GB --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem --home /root/ca-tools/org1/client1\n2021/06/30 03:13:51 [DEBUG] Home directory: /root/ca-tools/org1/client1\n2021/06/30 03:13:51 [DEBUG] Client configuration settings: &{URL:https://User1@org1-net:User1@org1-net-pw@ca.org1.example.com:7054 MSPDir:msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  } CSR:{CN:User1@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42000d440}\n2021/06/30 03:13:51 [DEBUG] Entered runEnroll\n2021/06/30 03:13:51 [DEBUG] Enrolling { Name:User1@org1-net Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:&{User1@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  }\n2021/06/30 03:13:51 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name:User1@org1-net Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:&{User1@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  } CSR:{CN:User1@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42000d440}\n2021/06/30 03:13:51 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc4200e3e30 PluginOpts:<nil>}\n2021/06/30 03:13:51 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4202eb620 DummyKeystore:<nil>}\n2021/06/30 03:13:51 [INFO] TLS Enabled\n2021/06/30 03:13:51 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]\n2021/06/30 03:13:51 [DEBUG] Client Cert File: \n2021/06/30 03:13:51 [DEBUG] Client Key File: \n2021/06/30 03:13:51 [DEBUG] Client TLS certificate and/or key file not provided\n2021/06/30 03:13:51 [DEBUG] GenCSR &{CN:User1@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:}\n2021/06/30 03:13:51 [INFO] generating key: &{A:ecdsa S:256}\n2021/06/30 03:13:51 [DEBUG] generate key from request: algo=ecdsa, size=256\n2021/06/30 03:13:51 [INFO] encoded CSR\n2021/06/30 03:13:51 [DEBUG] Sending request\nPOST https://ca.org1.example.com:7054/enroll\n{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBRzCB7gIBADBVMQswCQYDVQQGEwJHQjEbMBkGA1UEBxMSNTEuNTAvLTAuMTMv\\nTG9uZG9uMRAwDgYDVQQKEwdPcmRlcmVyMRcwFQYDVQQDDA5Vc2VyMUBvcmcxLW5l\\ndDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABJaPmhiO1yqMhC5oQuol318czlwf\\nboSvHLKJ2u0vqD6TDvvboZOVoXGY+HHZl1R0Dk6OGfxYm112j/FiTLzvtZugNzA1\\nBgkqhkiG9w0BCQ4xKDAmMCQGA1UdEQQdMBuCGWNhLXRvb2xzLTc2Nzc1Yzg1OTgt\\ncDhxZHMwCgYIKoZIzj0EAwIDSAAwRQIhAIvZ7bQKVpnnQuJz+PJ98TXyJLvZWdGl\\nBN2Yz8jgYh/uAiAvNzrYNq5ZJOxK0VGNuffwkyu9xo/sYCcvNr+fWfwzwA==\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}\nError: POST failure of request: POST https://ca.org1.example.com:7054/enroll\n{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBRzCB7gIBADBVMQswCQYDVQQGEwJHQjEbMBkGA1UEBxMSNTEuNTAvLTAuMTMv\\nTG9uZG9uMRAwDgYDVQQKEwdPcmRlcmVyMRcwFQYDVQQDDA5Vc2VyMUBvcmcxLW5l\\ndDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABJaPmhiO1yqMhC5oQuol318czlwf\\nboSvHLKJ2u0vqD6TDvvboZOVoXGY+HHZl1R0Dk6OGfxYm112j/FiTLzvtZugNzA1\\nBgkqhkiG9w0BCQ4xKDAmMCQGA1UdEQQdMBuCGWNhLXRvb2xzLTc2Nzc1Yzg1OTgt\\ncDhxZHMwCgYIKoZIzj0EAwIDSAAwRQIhAIvZ7bQKVpnnQuJz+PJ98TXyJLvZWdGl\\nBN2Yz8jgYh/uAiAvNzrYNq5ZJOxK0VGNuffwkyu9xo/sYCcvNr+fWfwzwA==\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}: Post https://ca.org1.example.com:7054/enroll: dial tcp: lookup ca.org1.example.com on 10.96.0.10:53: no such host\n+ mkdir /root/ca-tools/org1/client1/msp/admincerts\nmkdir: cannot create directory '/root/ca-tools/org1/client1/msp/admincerts': File exists\n+ cp '/root/ca-tools/org1/client1/msp/signcerts/*' /root/ca-tools/org1/client1/msp/admincerts/User1@org1-net-cert.pem\ncp: cannot stat '/root/ca-tools/org1/client1/msp/signcerts/*': No such file or directory\n+ mkdir -p /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net\n+ cp -R /root/ca-tools/org1/client1/msp /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net\n+ fabric-ca-client enroll -d --enrollment.profile tls -u https://User1@org1-net:User1@org1-net-pw@ca.org1.example.com:7054 -M /root/ca-tools/org1/client1/tls --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem\n2021/06/30 03:13:51 [DEBUG] Home directory: /root/.fabric-ca-client\n2021/06/30 03:13:51 [DEBUG] Client configuration settings: &{URL:https://User1@org1-net:User1@org1-net-pw@ca.org1.example.com:7054 MSPDir:/root/ca-tools/org1/client1/tls TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:<nil> Type:x509  } CSR:{CN:Admin@org1-net Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42017b900}\n2021/06/30 03:13:51 [DEBUG] Entered runEnroll\n2021/06/30 03:13:51 [DEBUG] Enrolling { Name:User1@org1-net Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:&{Admin@org1-net [{US North Carolina  Hyperledger Fabric }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  }\n2021/06/30 03:13:51 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:/root/ca-tools/org1/client1/tls TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name:User1@org1-net Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:&{Admin@org1-net [{US North Carolina  Hyperledger Fabric }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  } CSR:{CN:Admin@org1-net Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42017b900}\n2021/06/30 03:13:51 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc420178480 PluginOpts:<nil>}\n2021/06/30 03:13:51 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc420471ef0 DummyKeystore:<nil>}\n2021/06/30 03:13:51 [INFO] TLS Enabled\n2021/06/30 03:13:51 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]\n2021/06/30 03:13:51 [DEBUG] Client Cert File: \n2021/06/30 03:13:51 [DEBUG] Client Key File: \n2021/06/30 03:13:51 [DEBUG] Client TLS certificate and/or key file not provided\n2021/06/30 03:13:51 [DEBUG] GenCSR &{CN:Admin@org1-net Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:}\n2021/06/30 03:13:51 [INFO] generating key: &{A:ecdsa S:256}\n2021/06/30 03:13:51 [DEBUG] generate key from request: algo=ecdsa, size=256\n2021/06/30 03:13:51 [INFO] encoded CSR\n2021/06/30 03:13:51 [DEBUG] Sending request\nPOST https://ca.org1.example.com:7054/enroll\n{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBWDCB/wIBADBmMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxFzAVBgNV\\nBAMMDlVzZXIxQG9yZzEtbmV0MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEqknw\\nE8ujJpBJmZR4sEp4UeKuMhhdSNV0k6UfpA5Yf76vjljaiNd1BwMz0YHRMI5Ml4XJ\\n1TnCxrD2OI/DY+I3tKA3MDUGCSqGSIb3DQEJDjEoMCYwJAYDVR0RBB0wG4IZY2Et\\ndG9vbHMtNzY3NzVjODU5OC1wOHFkczAKBggqhkjOPQQDAgNIADBFAiEAoV9gD01/\\nWrkcc0DxnhT1qXmwPwR4SEkE13xhAr9pmsYCIBpLVmyaEUA+D1zH4QVJbikljr7R\\nO3Xw3GP3a9wPYC4I\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"tls\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}\nError: POST failure of request: POST https://ca.org1.example.com:7054/enroll\n{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBWDCB/wIBADBmMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxFzAVBgNV\\nBAMMDlVzZXIxQG9yZzEtbmV0MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEqknw\\nE8ujJpBJmZR4sEp4UeKuMhhdSNV0k6UfpA5Yf76vjljaiNd1BwMz0YHRMI5Ml4XJ\\n1TnCxrD2OI/DY+I3tKA3MDUGCSqGSIb3DQEJDjEoMCYwJAYDVR0RBB0wG4IZY2Et\\ndG9vbHMtNzY3NzVjODU5OC1wOHFkczAKBggqhkjOPQQDAgNIADBFAiEAoV9gD01/\\nWrkcc0DxnhT1qXmwPwR4SEkE13xhAr9pmsYCIBpLVmyaEUA+D1zH4QVJbikljr7R\\nO3Xw3GP3a9wPYC4I\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"tls\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}: Post https://ca.org1.example.com:7054/enroll: dial tcp: lookup ca.org1.example.com on 10.96.0.10:53: no such host\n+ mkdir -p /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net/tls\n+ cp /root/ca-tools/org1/client1/tls/keystore/270d1f5556c97a718e2323fe83ff839415adef127afb9d5e4dd4705b0ffd8727_sk /root/ca-tools/org1/client1/tls/keystore/78099ea0adf433d839f13271985032a24dfd29a4e4ba39fd0fff32e5d292c037_sk /root/ca-tools/org1/client1/tls/keystore/96c1f0d475050b24b25a1a66023558a1a94a4c4e60749b6b541db4c4d17633b2_sk /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net/tls/client.key\ncp: target '/crypto-config/ordererOrganizations/org1-net/users/User1@org1-net/tls/client.key' is not a directory\n+ cp '/root/ca-tools/org1/client1/tls/signcerts/*' /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net/tls/client.crt\ncp: cannot stat '/root/ca-tools/org1/client1/tls/signcerts/*': No such file or directory\n+ cp '/root/ca-tools/org1/client1/tls/tlscacerts/*' /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net/tls/ca.crt\ncp: cannot stat '/root/ca-tools/org1/client1/tls/tlscacerts/*': No such file or directory\n+ '[' 1 -lt 1 ']'\n+ cd /", "stderr_lines": ["+ CURRENT_DIR=/", "+ FULLY_QUALIFIED_ORG_NAME=org1-net", "+ EXTERNAL_URL_SUFFIX=org1.example.com", "+ ALTERNATIVE_ORG_NAMES=(\"org1.example.com\")", "+ ORG_NAME=org1", "+ SUBJECT=C=UK,ST=London,L=London,O=org1", "+ SUBJECT_PEER=O=Orderer,L=51.50/-0.13/London,C=GB", "+ CA=ca.org1.example.com:7054", "+ CA_ADMIN_USER=org1-admin", "+ CA_ADMIN_PASS=org1-adminpw", "+ ORG_ADMIN_USER=Admin@org1-net", "+ ORG_ADMIN_PASS=Admin@org1-net-pw", "+ ORG_CYPTO_FOLDER=/crypto-config/ordererOrganizations/org1-net", "+ ROOT_TLS_CERT=/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem", "+ CAS_FOLDER=/root/ca-tools/cas/ca-org1", "+ ORG_HOME=/root/ca-tools/org1", "+ PEER=orderer1.org1-net", "+ CSR_HOSTS=orderer1.org1-net", "+ for i in '\"${ALTERNATIVE_ORG_NAMES[@]}\"'", "+ CSR_HOSTS=orderer1.org1-net,orderer1.org1.example.com", "+ echo 'Registering and enrolling orderer1.org1-net with csr hosts orderer1.org1-net,orderer1.org1.example.com'", "+ fabric-ca-client register -d --id.name orderer1.org1-net --id.secret orderer1.org1-net-pw --id.type orderer --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem --home /root/ca-tools/cas/ca-org1", "2021/06/30 03:13:48 [DEBUG] Home directory: /root/ca-tools/cas/ca-org1", "2021/06/30 03:13:48 [INFO] Configuration file location: /root/ca-tools/cas/ca-org1/fabric-ca-client-config.yaml", "2021/06/30 03:13:48 [DEBUG] Checking for enrollment", "2021/06/30 03:13:48 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  } CSR:{CN:org1-admin Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name:orderer1.org1-net Type:orderer Secret:orderer1.org1-net-pw MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc4200c86a0}", "2021/06/30 03:13:48 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc420474210 PluginOpts:<nil>}", "2021/06/30 03:13:48 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc420471b20 DummyKeystore:<nil>}", "2021/06/30 03:13:48 [INFO] TLS Enabled", "2021/06/30 03:13:48 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]", "2021/06/30 03:13:48 [DEBUG] Client Cert File: ", "2021/06/30 03:13:48 [DEBUG] Client Key File: ", "2021/06/30 03:13:48 [DEBUG] Client TLS certificate and/or key file not provided", "2021/06/30 03:13:48 [ERROR] Enrollment check failed: Idemix enrollment information does not exist", "Error: Enrollment information does not exist. Please execute enroll command first. Example: fabric-ca-client enroll -u http://user:userpw@serverAddr:serverPort", "+ fabric-ca-client enroll -d --enrollment.profile tls -u https://orderer1.org1-net:orderer1.org1-net-pw@ca.org1.example.com:7054 -M /root/ca-tools/org1/cas/orderers/tls --csr.hosts orderer1.org1-net,orderer1.org1.example.com --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem --csr.names O=Orderer,L=51.50/-0.13/London,C=GB", "2021/06/30 03:13:48 [DEBUG] Home directory: /root/.fabric-ca-client", "2021/06/30 03:13:48 [DEBUG] Client configuration settings: &{URL:https://orderer1.org1-net:orderer1.org1-net-pw@ca.org1.example.com:7054 MSPDir:/root/ca-tools/org1/cas/orderers/tls TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:<nil> Type:x509  } CSR:{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[orderer1.org1-net orderer1.org1.example.com] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc4200d97a0}", "2021/06/30 03:13:48 [DEBUG] Entered runEnroll", "2021/06/30 03:13:48 [DEBUG] Enrolling { Name:orderer1.org1-net Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:&{Admin@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [orderer1.org1-net orderer1.org1.example.com] <nil> <nil> } Type:x509  }", "2021/06/30 03:13:48 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:/root/ca-tools/org1/cas/orderers/tls TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name:orderer1.org1-net Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:&{Admin@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [orderer1.org1-net orderer1.org1.example.com] <nil> <nil> } Type:x509  } CSR:{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[orderer1.org1-net orderer1.org1.example.com] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc4200d97a0}", "2021/06/30 03:13:48 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc420155ef0 PluginOpts:<nil>}", "2021/06/30 03:13:48 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4202bb150 DummyKeystore:<nil>}", "2021/06/30 03:13:48 [INFO] TLS Enabled", "2021/06/30 03:13:48 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]", "2021/06/30 03:13:48 [DEBUG] Client Cert File: ", "2021/06/30 03:13:48 [DEBUG] Client Key File: ", "2021/06/30 03:13:48 [DEBUG] Client TLS certificate and/or key file not provided", "2021/06/30 03:13:48 [DEBUG] GenCSR &{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[orderer1.org1-net orderer1.org1.example.com] KeyRequest:<nil> CA:<nil> SerialNumber:}", "2021/06/30 03:13:48 [INFO] generating key: &{A:ecdsa S:256}", "2021/06/30 03:13:48 [DEBUG] generate key from request: algo=ecdsa, size=256", "2021/06/30 03:13:48 [INFO] encoded CSR", "2021/06/30 03:13:48 [DEBUG] Sending request", "POST https://ca.org1.example.com:7054/enroll", "{\"hosts\":[\"orderer1.org1-net\",\"orderer1.org1.example.com\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBXjCCAQQCAQAwWDELMAkGA1UEBhMCR0IxGzAZBgNVBAcTEjUxLjUwLy0wLjEz\\nL0xvbmRvbjEQMA4GA1UEChMHT3JkZXJlcjEaMBgGA1UEAxMRb3JkZXJlcjEub3Jn\\nMS1uZXQwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAARplw6uAXY2ByZxNHG4/mZ/\\nsUh9baJ7zs2hrcFX7ZrIG0Q6qGDn0eU9SINPr2gYTmO7DBYSKQ8HI5Gh4xJVuy71\\noEowSAYJKoZIhvcNAQkOMTswOTA3BgNVHREEMDAughFvcmRlcmVyMS5vcmcxLW5l\\ndIIZb3JkZXJlcjEub3JnMS5leGFtcGxlLmNvbTAKBggqhkjOPQQDAgNIADBFAiEA\\nlu3DplUDldRSMZRX5XEW/wy4lNPq0F9lwX5aZ4b5V60CIBbzUW06xndNIHR2R5kp\\nPkuQAEsmon534jYERXOEbayS\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"tls\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}", "Error: POST failure of request: POST https://ca.org1.example.com:7054/enroll", "{\"hosts\":[\"orderer1.org1-net\",\"orderer1.org1.example.com\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBXjCCAQQCAQAwWDELMAkGA1UEBhMCR0IxGzAZBgNVBAcTEjUxLjUwLy0wLjEz\\nL0xvbmRvbjEQMA4GA1UEChMHT3JkZXJlcjEaMBgGA1UEAxMRb3JkZXJlcjEub3Jn\\nMS1uZXQwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAARplw6uAXY2ByZxNHG4/mZ/\\nsUh9baJ7zs2hrcFX7ZrIG0Q6qGDn0eU9SINPr2gYTmO7DBYSKQ8HI5Gh4xJVuy71\\noEowSAYJKoZIhvcNAQkOMTswOTA3BgNVHREEMDAughFvcmRlcmVyMS5vcmcxLW5l\\ndIIZb3JkZXJlcjEub3JnMS5leGFtcGxlLmNvbTAKBggqhkjOPQQDAgNIADBFAiEA\\nlu3DplUDldRSMZRX5XEW/wy4lNPq0F9lwX5aZ4b5V60CIBbzUW06xndNIHR2R5kp\\nPkuQAEsmon534jYERXOEbayS\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"tls\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}: Post https://ca.org1.example.com:7054/enroll: dial tcp: lookup ca.org1.example.com on 10.96.0.10:53: no such host", "+ mkdir -p /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/tls", "+ cp /root/ca-tools/org1/cas/orderers/tls/keystore/9b3c6ae7b4c388ac3b34d5587d7fe9ff9ead0744a4b292096c87c1321ca4f3b2_sk /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/tls/server.key", "+ cp '/root/ca-tools/org1/cas/orderers/tls/signcerts/*' /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/tls/server.crt", "cp: cannot stat '/root/ca-tools/org1/cas/orderers/tls/signcerts/*': No such file or directory", "+ cp '/root/ca-tools/org1/cas/orderers/tls/tlscacerts/*' /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/tls/ca.crt", "cp: cannot stat '/root/ca-tools/org1/cas/orderers/tls/tlscacerts/*': No such file or directory", "+ rm -rf /root/ca-tools/org1/cas/orderers/tls", "+ fabric-ca-client enroll -d -u https://orderer1.org1-net:orderer1.org1-net-pw@ca.org1.example.com:7054 -M /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem --csr.names O=Orderer,L=51.50/-0.13/London,C=GB", "2021/06/30 03:13:50 [DEBUG] Home directory: /root/.fabric-ca-client", "2021/06/30 03:13:50 [DEBUG] Client configuration settings: &{URL:https://orderer1.org1-net:orderer1.org1-net-pw@ca.org1.example.com:7054 MSPDir:/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  } CSR:{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42047fbe0}", "2021/06/30 03:13:50 [DEBUG] Entered runEnroll", "2021/06/30 03:13:50 [DEBUG] Enrolling { Name:orderer1.org1-net Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:&{Admin@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  }", "2021/06/30 03:13:50 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name:orderer1.org1-net Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:&{Admin@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  } CSR:{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42047fbe0}", "2021/06/30 03:13:50 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc420446060 PluginOpts:<nil>}", "2021/06/30 03:13:50 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc420479fe0 DummyKeystore:<nil>}", "2021/06/30 03:13:50 [INFO] TLS Enabled", "2021/06/30 03:13:50 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]", "2021/06/30 03:13:50 [DEBUG] Client Cert File: ", "2021/06/30 03:13:50 [DEBUG] Client Key File: ", "2021/06/30 03:13:50 [DEBUG] Client TLS certificate and/or key file not provided", "2021/06/30 03:13:50 [DEBUG] GenCSR &{CN:Admin@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:}", "2021/06/30 03:13:50 [INFO] generating key: &{A:ecdsa S:256}", "2021/06/30 03:13:50 [DEBUG] generate key from request: algo=ecdsa, size=256", "2021/06/30 03:13:50 [INFO] encoded CSR", "2021/06/30 03:13:50 [DEBUG] Sending request", "POST https://ca.org1.example.com:7054/enroll", "{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBSTCB8QIBADBYMQswCQYDVQQGEwJHQjEbMBkGA1UEBxMSNTEuNTAvLTAuMTMv\\nTG9uZG9uMRAwDgYDVQQKEwdPcmRlcmVyMRowGAYDVQQDExFvcmRlcmVyMS5vcmcx\\nLW5ldDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABO9f0j3wHycZBR/jHXh35Ncs\\ncYK5wse0Wzk9LbWZNvSXzg6JTcp072jNraQZJlNUSix8M3tDemDSdTfQBwmEOlCg\\nNzA1BgkqhkiG9w0BCQ4xKDAmMCQGA1UdEQQdMBuCGWNhLXRvb2xzLTc2Nzc1Yzg1\\nOTgtcDhxZHMwCgYIKoZIzj0EAwIDRwAwRAIgTUsa33o9GD0kWx1BxbwY3s3wPPl0\\ncFUq9ywA39xvu1ICIBJX2mWm4b9Q2kJIWlfazkt2OmUQKjxMFlxi7BBCUkHH\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}", "Error: POST failure of request: POST https://ca.org1.example.com:7054/enroll", "{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBSTCB8QIBADBYMQswCQYDVQQGEwJHQjEbMBkGA1UEBxMSNTEuNTAvLTAuMTMv\\nTG9uZG9uMRAwDgYDVQQKEwdPcmRlcmVyMRowGAYDVQQDExFvcmRlcmVyMS5vcmcx\\nLW5ldDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABO9f0j3wHycZBR/jHXh35Ncs\\ncYK5wse0Wzk9LbWZNvSXzg6JTcp072jNraQZJlNUSix8M3tDemDSdTfQBwmEOlCg\\nNzA1BgkqhkiG9w0BCQ4xKDAmMCQGA1UdEQQdMBuCGWNhLXRvb2xzLTc2Nzc1Yzg1\\nOTgtcDhxZHMwCgYIKoZIzj0EAwIDRwAwRAIgTUsa33o9GD0kWx1BxbwY3s3wPPl0\\ncFUq9ywA39xvu1ICIBJX2mWm4b9Q2kJIWlfazkt2OmUQKjxMFlxi7BBCUkHH\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}: Post https://ca.org1.example.com:7054/enroll: dial tcp: lookup ca.org1.example.com on 10.96.0.10:53: no such host", "+ mkdir /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/tlscacerts", "+ '[' haproxy '!=' none ']'", "+ mv '/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/cacerts/*.pem' /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/cacerts/ca-org1-net-org1.example.com-8443.pem", "mv: cannot stat '/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/cacerts/*.pem': No such file or directory", "+ cp '/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/cacerts/*' /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/tlscacerts", "cp: cannot stat '/crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/cacerts/*': No such file or directory", "+ mkdir -p /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/admincerts", "+ cp /crypto-config/ordererOrganizations/org1-net/msp/admincerts/Admin@org1-net-cert.pem /crypto-config/ordererOrganizations/org1-net/orderers/orderer1.org1-net/msp/admincerts", "cp: cannot stat '/crypto-config/ordererOrganizations/org1-net/msp/admincerts/Admin@org1-net-cert.pem': No such file or directory", "+ cd /", "+ CURRENT_DIR=/", "+ FULLY_QUALIFIED_ORG_NAME=org1-net", "+ ORG_NAME=org1", "+ TYPE_FOLDER=orderer1s", "+ NO_OF_USERS=1", "+ AFFILIATION=Org1", "+ SUBJECT=O=Orderer,L=51.50/-0.13/London,C=GB", "+ CA=ca.org1.example.com:7054", "+ '[' orderer1 '!=' peer ']'", "+ ORG_CYPTO_FOLDER=/crypto-config/ordererOrganizations/org1-net", "+ ROOT_TLS_CERT=/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem", "+ CAS_FOLDER=/root/ca-tools/cas/ca-org1", "+ ORG_HOME=/root/ca-tools/org1", "+ USER=0", "+ '[' 0 -lt 1 ']'", "+ let USER=USER+1", "+ ORG_USER=User1@org1-net", "+ ORG_USERPASS=User1@org1-net-pw", "+ '[' orderer1 = peer ']'", "+ fabric-ca-client register -d --id.name User1@org1-net --id.secret User1@org1-net-pw --id.type client --csr.names O=Orderer,L=51.50/-0.13/London,C=GB --id.attrs hf.Revoker=true --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem --home /root/ca-tools/cas/ca-org1", "2021/06/30 03:13:51 [DEBUG] Home directory: /root/ca-tools/cas/ca-org1", "2021/06/30 03:13:51 [INFO] Configuration file location: /root/ca-tools/cas/ca-org1/fabric-ca-client-config.yaml", "2021/06/30 03:13:51 [DEBUG] Checking for enrollment", "2021/06/30 03:13:51 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  } CSR:{CN:org1-admin Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name:User1@org1-net Type:client Secret:User1@org1-net-pw MaxEnrollments:0 Affiliation: Attributes:[{Name:hf.Revoker Value:true ECert:false}] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42044a4c0}", "2021/06/30 03:13:51 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc420452510 PluginOpts:<nil>}", "2021/06/30 03:13:51 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4203c49b0 DummyKeystore:<nil>}", "2021/06/30 03:13:51 [INFO] TLS Enabled", "2021/06/30 03:13:51 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]", "2021/06/30 03:13:51 [DEBUG] Client Cert File: ", "2021/06/30 03:13:51 [DEBUG] Client Key File: ", "2021/06/30 03:13:51 [DEBUG] Client TLS certificate and/or key file not provided", "2021/06/30 03:13:51 [ERROR] Enrollment check failed: Idemix enrollment information does not exist", "Error: Enrollment information does not exist. Please execute enroll command first. Example: fabric-ca-client enroll -u http://user:userpw@serverAddr:serverPort", "+ fabric-ca-client enroll -d -u https://User1@org1-net:User1@org1-net-pw@ca.org1.example.com:7054 --csr.names O=Orderer,L=51.50/-0.13/London,C=GB --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem --home /root/ca-tools/org1/client1", "2021/06/30 03:13:51 [DEBUG] Home directory: /root/ca-tools/org1/client1", "2021/06/30 03:13:51 [DEBUG] Client configuration settings: &{URL:https://User1@org1-net:User1@org1-net-pw@ca.org1.example.com:7054 MSPDir:msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  } CSR:{CN:User1@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42000d440}", "2021/06/30 03:13:51 [DEBUG] Entered runEnroll", "2021/06/30 03:13:51 [DEBUG] Enrolling { Name:User1@org1-net Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:&{User1@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  }", "2021/06/30 03:13:51 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:msp TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name:User1@org1-net Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:&{User1@org1-net [{   Orderer  } {  51.50/-0.13/London   } {GB     }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  } CSR:{CN:User1@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42000d440}", "2021/06/30 03:13:51 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc4200e3e30 PluginOpts:<nil>}", "2021/06/30 03:13:51 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4202eb620 DummyKeystore:<nil>}", "2021/06/30 03:13:51 [INFO] TLS Enabled", "2021/06/30 03:13:51 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]", "2021/06/30 03:13:51 [DEBUG] Client Cert File: ", "2021/06/30 03:13:51 [DEBUG] Client Key File: ", "2021/06/30 03:13:51 [DEBUG] Client TLS certificate and/or key file not provided", "2021/06/30 03:13:51 [DEBUG] GenCSR &{CN:User1@org1-net Names:[{C: ST: L: O:Orderer OU: SerialNumber:} {C: ST: L:51.50/-0.13/London O: OU: SerialNumber:} {C:GB ST: L: O: OU: SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:}", "2021/06/30 03:13:51 [INFO] generating key: &{A:ecdsa S:256}", "2021/06/30 03:13:51 [DEBUG] generate key from request: algo=ecdsa, size=256", "2021/06/30 03:13:51 [INFO] encoded CSR", "2021/06/30 03:13:51 [DEBUG] Sending request", "POST https://ca.org1.example.com:7054/enroll", "{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBRzCB7gIBADBVMQswCQYDVQQGEwJHQjEbMBkGA1UEBxMSNTEuNTAvLTAuMTMv\\nTG9uZG9uMRAwDgYDVQQKEwdPcmRlcmVyMRcwFQYDVQQDDA5Vc2VyMUBvcmcxLW5l\\ndDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABJaPmhiO1yqMhC5oQuol318czlwf\\nboSvHLKJ2u0vqD6TDvvboZOVoXGY+HHZl1R0Dk6OGfxYm112j/FiTLzvtZugNzA1\\nBgkqhkiG9w0BCQ4xKDAmMCQGA1UdEQQdMBuCGWNhLXRvb2xzLTc2Nzc1Yzg1OTgt\\ncDhxZHMwCgYIKoZIzj0EAwIDSAAwRQIhAIvZ7bQKVpnnQuJz+PJ98TXyJLvZWdGl\\nBN2Yz8jgYh/uAiAvNzrYNq5ZJOxK0VGNuffwkyu9xo/sYCcvNr+fWfwzwA==\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}", "Error: POST failure of request: POST https://ca.org1.example.com:7054/enroll", "{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBRzCB7gIBADBVMQswCQYDVQQGEwJHQjEbMBkGA1UEBxMSNTEuNTAvLTAuMTMv\\nTG9uZG9uMRAwDgYDVQQKEwdPcmRlcmVyMRcwFQYDVQQDDA5Vc2VyMUBvcmcxLW5l\\ndDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABJaPmhiO1yqMhC5oQuol318czlwf\\nboSvHLKJ2u0vqD6TDvvboZOVoXGY+HHZl1R0Dk6OGfxYm112j/FiTLzvtZugNzA1\\nBgkqhkiG9w0BCQ4xKDAmMCQGA1UdEQQdMBuCGWNhLXRvb2xzLTc2Nzc1Yzg1OTgt\\ncDhxZHMwCgYIKoZIzj0EAwIDSAAwRQIhAIvZ7bQKVpnnQuJz+PJ98TXyJLvZWdGl\\nBN2Yz8jgYh/uAiAvNzrYNq5ZJOxK0VGNuffwkyu9xo/sYCcvNr+fWfwzwA==\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}: Post https://ca.org1.example.com:7054/enroll: dial tcp: lookup ca.org1.example.com on 10.96.0.10:53: no such host", "+ mkdir /root/ca-tools/org1/client1/msp/admincerts", "mkdir: cannot create directory '/root/ca-tools/org1/client1/msp/admincerts': File exists", "+ cp '/root/ca-tools/org1/client1/msp/signcerts/*' /root/ca-tools/org1/client1/msp/admincerts/User1@org1-net-cert.pem", "cp: cannot stat '/root/ca-tools/org1/client1/msp/signcerts/*': No such file or directory", "+ mkdir -p /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net", "+ cp -R /root/ca-tools/org1/client1/msp /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net", "+ fabric-ca-client enroll -d --enrollment.profile tls -u https://User1@org1-net:User1@org1-net-pw@ca.org1.example.com:7054 -M /root/ca-tools/org1/client1/tls --tls.certfiles /crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem", "2021/06/30 03:13:51 [DEBUG] Home directory: /root/.fabric-ca-client", "2021/06/30 03:13:51 [DEBUG] Client configuration settings: &{URL:https://User1@org1-net:User1@org1-net-pw@ca.org1.example.com:7054 MSPDir:/root/ca-tools/org1/client1/tls TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:<nil> Type:x509  } CSR:{CN:Admin@org1-net Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42017b900}", "2021/06/30 03:13:51 [DEBUG] Entered runEnroll", "2021/06/30 03:13:51 [DEBUG] Enrolling { Name:User1@org1-net Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:&{Admin@org1-net [{US North Carolina  Hyperledger Fabric }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  }", "2021/06/30 03:13:51 [DEBUG] Initializing client with config: &{URL:https://ca.org1.example.com:7054 MSPDir:/root/ca-tools/org1/client1/tls TLS:{Enabled:true CertFiles:[/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem] Client:{KeyFile: CertFile:}} Enrollment:{ Name:User1@org1-net Secret:**** CAName: AttrReqs:[] Profile:tls Label: CSR:&{Admin@org1-net [{US North Carolina  Hyperledger Fabric }] [ca-tools-76775c8598-p8qds] <nil> <nil> } Type:x509  } CSR:{CN:Admin@org1-net Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:{Name: Type:client Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:{CAName:} CAName: CSP:0xc42017b900}", "2021/06/30 03:13:51 [DEBUG] Initializing BCCSP: &{ProviderName:SW SwOpts:0xc420178480 PluginOpts:<nil>}", "2021/06/30 03:13:51 [DEBUG] Initializing BCCSP with software options &{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc420471ef0 DummyKeystore:<nil>}", "2021/06/30 03:13:51 [INFO] TLS Enabled", "2021/06/30 03:13:51 [DEBUG] CA Files: [/crypto-config/ordererOrganizations/org1-net/ca/ca.org1-net-cert.pem]", "2021/06/30 03:13:51 [DEBUG] Client Cert File: ", "2021/06/30 03:13:51 [DEBUG] Client Key File: ", "2021/06/30 03:13:51 [DEBUG] Client TLS certificate and/or key file not provided", "2021/06/30 03:13:51 [DEBUG] GenCSR &{CN:Admin@org1-net Names:[{C:US ST:North Carolina L: O:Hyperledger OU:Fabric SerialNumber:}] Hosts:[ca-tools-76775c8598-p8qds] KeyRequest:<nil> CA:<nil> SerialNumber:}", "2021/06/30 03:13:51 [INFO] generating key: &{A:ecdsa S:256}", "2021/06/30 03:13:51 [DEBUG] generate key from request: algo=ecdsa, size=256", "2021/06/30 03:13:51 [INFO] encoded CSR", "2021/06/30 03:13:51 [DEBUG] Sending request", "POST https://ca.org1.example.com:7054/enroll", "{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBWDCB/wIBADBmMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxFzAVBgNV\\nBAMMDlVzZXIxQG9yZzEtbmV0MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEqknw\\nE8ujJpBJmZR4sEp4UeKuMhhdSNV0k6UfpA5Yf76vjljaiNd1BwMz0YHRMI5Ml4XJ\\n1TnCxrD2OI/DY+I3tKA3MDUGCSqGSIb3DQEJDjEoMCYwJAYDVR0RBB0wG4IZY2Et\\ndG9vbHMtNzY3NzVjODU5OC1wOHFkczAKBggqhkjOPQQDAgNIADBFAiEAoV9gD01/\\nWrkcc0DxnhT1qXmwPwR4SEkE13xhAr9pmsYCIBpLVmyaEUA+D1zH4QVJbikljr7R\\nO3Xw3GP3a9wPYC4I\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"tls\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}", "Error: POST failure of request: POST https://ca.org1.example.com:7054/enroll", "{\"hosts\":[\"ca-tools-76775c8598-p8qds\"],\"certificate_request\":\"-----BEGIN CERTIFICATE REQUEST-----\\nMIIBWDCB/wIBADBmMQswCQYDVQQGEwJVUzEXMBUGA1UECBMOTm9ydGggQ2Fyb2xp\\nbmExFDASBgNVBAoTC0h5cGVybGVkZ2VyMQ8wDQYDVQQLEwZGYWJyaWMxFzAVBgNV\\nBAMMDlVzZXIxQG9yZzEtbmV0MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEqknw\\nE8ujJpBJmZR4sEp4UeKuMhhdSNV0k6UfpA5Yf76vjljaiNd1BwMz0YHRMI5Ml4XJ\\n1TnCxrD2OI/DY+I3tKA3MDUGCSqGSIb3DQEJDjEoMCYwJAYDVR0RBB0wG4IZY2Et\\ndG9vbHMtNzY3NzVjODU5OC1wOHFkczAKBggqhkjOPQQDAgNIADBFAiEAoV9gD01/\\nWrkcc0DxnhT1qXmwPwR4SEkE13xhAr9pmsYCIBpLVmyaEUA+D1zH4QVJbikljr7R\\nO3Xw3GP3a9wPYC4I\\n-----END CERTIFICATE REQUEST-----\\n\",\"profile\":\"tls\",\"crl_override\":\"\",\"label\":\"\",\"NotBefore\":\"0001-01-01T00:00:00Z\",\"NotAfter\":\"0001-01-01T00:00:00Z\",\"CAName\":\"\"}: Post https://ca.org1.example.com:7054/enroll: dial tcp: lookup ca.org1.example.com on 10.96.0.10:53: no such host", "+ mkdir -p /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net/tls", "+ cp /root/ca-tools/org1/client1/tls/keystore/270d1f5556c97a718e2323fe83ff839415adef127afb9d5e4dd4705b0ffd8727_sk /root/ca-tools/org1/client1/tls/keystore/78099ea0adf433d839f13271985032a24dfd29a4e4ba39fd0fff32e5d292c037_sk /root/ca-tools/org1/client1/tls/keystore/96c1f0d475050b24b25a1a66023558a1a94a4c4e60749b6b541db4c4d17633b2_sk /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net/tls/client.key", "cp: target '/crypto-config/ordererOrganizations/org1-net/users/User1@org1-net/tls/client.key' is not a directory", "+ cp '/root/ca-tools/org1/client1/tls/signcerts/*' /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net/tls/client.crt", "cp: cannot stat '/root/ca-tools/org1/client1/tls/signcerts/*': No such file or directory", "+ cp '/root/ca-tools/org1/client1/tls/tlscacerts/*' /crypto-config/ordererOrganizations/org1-net/users/User1@org1-net/tls/ca.crt", "cp: cannot stat '/root/ca-tools/org1/client1/tls/tlscacerts/*': No such file or directory", "+ '[' 1 -lt 1 ']'", "+ cd /"], "stdout": "Registering and enrolling orderer1.org1-net with csr hosts orderer1.org1-net,orderer1.org1.example.com", "stdout_lines": ["Registering and enrolling orderer1.org1-net with csr hosts orderer1.org1-net,orderer1.org1.example.com"]}